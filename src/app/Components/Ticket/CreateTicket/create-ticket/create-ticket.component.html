<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
</head>

<body>


    <div class="create">
        <div class="ticketCreation">
            <div class="header">
                <h1 class="logo_title">Create Ticket</h1>
            </div>
            <form [formGroup]="ticketForm">
                <div class="row">
                    <div class="col">
                        <mat-form-field>
                            <mat-label>Department</mat-label>
                            <mat-select formControlName="department" [(ngModel)]="selectedDepartment" (selectionChange)="getIssue()">
                                <mat-option *ngFor="let department of departments" [value]="{ departmentId: department.id, departmentName: department.departmentName }">
                                    {{ department.departmentName }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <mat-label>Issues</mat-label>
                            <mat-select formControlName="issues" [(ngModel)]="selectedIssue">
                                <mat-option *ngFor="let issue of issues" [value]="{ issuesId: issue.id, issuesName:issue.issue }" >
                                    {{ issue.issue }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <mat-form-field>
                            <mat-label>Subject</mat-label>
                            <input matInput formControlName="subject" placeholder="Enter Subject">
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field>
                            <mat-label>Baynumber</mat-label>
                            <input matInput formControlName="baynumber" placeholder="Enter Baynumber">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <mat-form-field>
                            <mat-label>Content</mat-label>
                            <textarea matInput formControlName="content"></textarea>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <mat-form-field>
                            <mat-label>Status</mat-label>
                            <mat-select formControlName="status" [disabled]="true">
                                <mat-option *ngFor="let status of statuses" [value]="status.status">{{ status.status
                                    }}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div class="col">
                        <mat-form-field appearance="fill">
                            <mat-label>Priority</mat-label>
                            <mat-select formControlName="priority">
                              <mat-option value="Low">Low</mat-option>
                              <mat-option value="Medium">Medium</mat-option>
                              <mat-option value="High">High</mat-option>
                            </mat-select>
                          </mat-form-field>
                    </div>
                </div>

                <div class="row">
                    <div class="col">
                        <input type="file" (change)="onFileSelected($event)" multiple>
                        <!-- <div *ngFor="let file of selectedFiles">
                          {{ file.name }}
                          <i class="fa fa-trash" aria-hidden="true" style="color:red;cursor: pointer;" (click)="onDelete(file)"></i>
                        </div> -->
                    </div>
                </div>
<br>
                <div class="footer">
                    <div class="row">
                        <div class="col"><button type="button" class="btn btn-warning">Back to list</button></div>
                        <div class="col"><button type="submit" class="btn btn-success" (click)="Submit()">Submit</button></div>
                    </div>
                </div>
            </form>
        </div>
    </div>

</body>

</html>